<!DOCTYPE HTML>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Test Extension Options</title>

<script type="text/javascript">


// Saves options to localStorage.
function save_options() {
    var select = document.getElementById("grep");
    var grep = select.value;
    localStorage["np_grep"] = grep;
    //console.log(localStorage);

    // Update status to let user know options were saved.
    var status = document.getElementById("status");
    status.innerHTML = "Options Saved.";
    setTimeout(function() {
            status.innerHTML = "";
            }, 750);
}

// Restores select box state to saved value from localStorage.
function restore_options() {
    var select = document.getElementById("grep");

    //console.log(localStorage);
    var grep = localStorage["np_grep"];

    if (!grep) { 
        return; 
    } else {
        select.value = grep;
    }
}

</script>

<!-- CSS {{{ -->
<style type="text/css">
h1 {
    border-bottom: 1px solid #CCC;
    margin-bottom: 20px;
}
#wrapper {
    width: 950px;
    margin: 0 auto;
}

#status {
    background: yellow;
    margin: 0 auto;
}

#content {
    border-radius: 20px;
    border: 10px solid #CCC;
    padding: 10px 20px;
    margin: 10px 0;
    min-height: 300px;
}
</style>
<!-- }}} -->
</head>

<body onload="restore_options()">

<div id="wrapper">

    <span id="status"></span>

    <div id="content">
        <h1>NextPage Options</h1>

        <form id="notSubmit" onsubmit="javasctipt:save_options();return false;">
            <label for="grep"><b>Search Pattern [Regex] : </b></label>
            <input id="grep" name="grep" type="text" value="" autocomplete="off" /> /i
            <br /> <br />
            <input type="submit" value="Save" />
        </form>

    </div><!-- /content -->

</div><!-- /wrapper -->
</body>
</html>

